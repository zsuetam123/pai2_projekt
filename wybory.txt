CREATE TABLE PERMISSION(
	ID_PERMISSION int not null primary key identity(1,1),
	NAME varchar(255)
);

CREATE TABLE USER(
	ID_USER int not null primary key identity(1,1),
	LOGIN varchar(255),
	PASSWORD varchar(255),
	NAME varchar(255),
	SURNAME varchar(255),
	PESEL int,
	LOCALITY varchar(255),
	ADRESS_EMAIL varchar(255),
	ID_PERMISSION int FOREIGN KEY REFERENCES `PERMISSION`(`ID_PERMISSION`)
);


CREATE TABLE CANDIDATES(
	ID_CANDIDATE int not null primary key identity(1,1),
	NAME varchar(255),
	SURNAME varchar(255)
);

CREATE TABLE ELECTION_STAFF(
	ID_STAFF int not null primary key identity(1,1),
	ID_CANDIDATE int FOREIGN KEY REFERENCES `CANDIDATES`(`ID_CANDIDATE`)
);

CREATE TABLE ELECTION_STAFF_MEMBERS(
	ID_MEMBER int not null primary key identity(1,1),
	ID_STAFF int FOREIGN KEY REFERENCES `ELECTION_STAFF`(`ID_STAFF`),
	NAME varchar(255),
	SURNAME varchar(255),
	POSITION varchar(255)
);

CREATE TABLE ELECTION_PROGRAM(
	ID_PROGRAM int not null primary key identity(1,1),
	ID_STAFF int FOREIGN KEY REFERENCES `ELECTION_STAFF`(`ID_STAFF`),
	DEMANDS varchar(max)	
);

CREATE TABLE DATES_OF_VOTING(
	ID_DATE int not null primary key identity(1,1),
	VOTING_DATE date
);

CREATE TABLE LIST_OF_CANDIDATES(
	ID_DATE int FOREIGN KEY REFERENCES `DATES_OF_VOTING`(`ID_DATE`),
	ID_CANDIDATES int FOREIGN KEY REFERENCES `CANDIDATES`(`ID_CANDIDATE`)
);

CREATE TABLE VOTE(
	ID_VOTE int not null primary key identity(1,1),
	ID_VOTER int FOREIGN KEY REFERENCES `USER`(`ID_USER`),
	ID_CANDIDATE int FOREIGN KEY REFERENCES `CANDIDATES`(`ID_CANDIDATE`),
	ID_DATE int FOREIGN KEY REFERENCES `DATES_OF_VOTING`(`ID_DATE`),
);

CREATE TABLE VOTING_RESULTS(
	ID_RESULTS int not null primary key identity(1,1),
	ID_CANDIDATE int FOREIGN KEY REFERENCES `CANDIDATES`(`ID_CANDIDATE`),
	NUMBER_OF_VOTES int
);


